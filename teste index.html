<!DOCTYPE HTML>
<html lang="pt-br">
<body>
    <h1>O Livro de Nix</h1>
    
    <form id="meuFormulario">
        <input id="inputNome" type="text" placeholder="Digite seu nome">
        <button id="botao" type="submit">Salvar no Banco</button>
    </form>

    <script type="module">
        // 1. IMPORTAÇÕES (Devem vir primeiro)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // 2. CONFIGURAÇÃO
        const firebaseConfig = {
            apiKey: "AIzaSyB7__LT5QMDf4qAXv0c2--6_rnYeUUiHDg",
            authDomain: "hq-de-lazaro-pereira.firebaseapp.com",
            projectId: "hq-de-lazaro-pereira",
            storageBucket: "hq-de-lazaro-pereira.firebasestorage.app",
            messagingSenderId: "52224337823",
            appId: "1:52224337823:web:55e741fcf6a7c228143faa"
        };

        // 3. INICIALIZAÇÃO
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // 4. LÓGICA DO BOTÃO
        const btn = document.getElementById('botao');
        
        btn.addEventListener('click', async (e) => {
            e.preventDefault(); // Impede a página de recarregar
            
            const inputNome = document.getElementById('inputNome');
            const nomeValor = inputNome.value;

            if (!nomeValor) {
                alert("Por favor, digite um nome!");
                return;
            }

            try {
                // Adicionando ao Firestore
                const docRef = await addDoc(collection(db, "clientes"), {
                    nome: nomeValor,
                    horario: new Date()
                });
                
                console.log("Documento salvo com ID:", docRef.id);
                alert("Sucesso! Nome salvo no Firebase.");
                inputNome.value = ""; // Limpa o campo após salvar
                
            } catch (erro) {
                console.error("Erro detalhado:", erro);
                alert("Erro ao salvar. Verifique o console e as regras de segurança.");
            }
        });
    </script>
</body>
</html>
    projectId: "hq-de-lazaro-pereira",
    storageBucket: "hq-de-lazaro-pereira.firebasestorage.app",
    messagingSenderId: "52224337823",
    appId: "1:52224337823:web:55e741fcf6a7c228143faa",
    measurementId: "G-ESXZ9J2PMZ"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</script>
</body>
</html>
